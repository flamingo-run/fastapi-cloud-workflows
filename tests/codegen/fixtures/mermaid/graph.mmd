graph TD
  subgraph echo-name-flow
    external-echo[external-echo]
    extract-name[extract-name]
    name-shout[name-shout]
    external-echo --> extract-name
    extract-name --> name-shout
  end
  subgraph joke-flow
    joke-fetch[joke-fetch]
    joke-split[joke-split]
    joke-rate[joke-rate]
    joke-fetch --> joke-split
    joke-split --> joke-rate
  end
  subgraph order-flow
    price-order[price-order]
    auth-payment[auth-payment]
    price-order --> auth-payment
  end
  subgraph payment-flow
    validate-cart[validate-cart]
    cart->psp[cart->psp]
    psp-charge[psp-charge]
    summarize-charge[summarize-charge]
    validate-cart --> cart->psp
    cart->psp --> psp-charge
    psp-charge --> summarize-charge
  end
  subgraph post-story-flow
    build-story[build-story]
    create-post[create-post]
    summarize-post[summarize-post]
    build-story --> create-post
    create-post --> summarize-post
  end
  subgraph user-signup
    hash-password[hash-password]
    draft->idp[draft->idp]
    idp-call[idp-call]
    persist-user[persist-user]
    hash-password --> draft->idp
    draft->idp --> idp-call
    idp-call --> persist-user
  end

